# ppfish 1.6.8 版本升级说明

## 1.6.8-alpha.1
- AudioPlayer
  - 🎊 新增 API `controlProgress`，是否需要手动控制播放进度
  - 🎊 新增 API `displayTime`，是否显示时间
  - 🔨 优化样式，增大播放和音量可点击区域
- DatePicker、DateRangePicker、TimePicker
  - 🔨 组件更新时，不做日期或时间是否有效的检查

## 1.6.8-alpha.2
- Ellipsis
 - 🔥🔨 使用`ResizeObserver`替代`window.resize`优化tooltip是否在鼠标常驻时显示的判断逻辑。
- Modal
  - 🔥🔨 将 API `keyboard` 修改为 `esc`，设置是否开启按ESC键关闭对话框
- Collapse
  - 🔨 修复accordion、isScrollToHeader两个API同时启用时，isScrollToHeader失效问题
- Input.Counter
  - 🔨 优化样式，当Input.Counter设置为disabled时，计数区域也变灰色不可点击。
- RichEditor
  - 🎊 新增 API `popoverPlacement`，用于设置气泡框的弹出位置
- DateRangePicker
  - 🔥☠ 废弃 API `maxDateRange`
  - 🔥🔨更改 API `onError` 的逻辑，将组件错误逻辑放在 `onError` 中，由使用者自定义
- Cascader
  - 🎊 避免搜索出的条数过多造成卡顿，添加搜索最多展示50条的限制，新增`showSearch.limit`参数进行配置
- Select、Anchor、Cascader
  - 🔨 使用新的生命周期函数替换即将__UNSAFE的方法
- TreeSelect
  - 🔨 取消弹出框的 forceRender，以免 getPopupContainer 返回尚未挂载的节点导致报错
  
## 1.6.8-beta.1

- AudioPlayer
  - 🔨 当音频源时长为0时，禁用播放按钮和进度条
- Transfer、Button、Affix、ColorPicker、Collapse、Checkbox、Input、Pagination、Radio、Spin、Switch、Tabs、Tooltip、Tree、TreeSelect、Upload
  - 🔨 使用新的生命周期函数替换即将__UNSAFE的方法
- RichEditor
  - 🐛 修复设置加粗、斜体、下划线等格式后，取消格式需要点击两次的问题
  - 🐛 修复带自定义属性的 a 标签后接带自定义属性的 img 标签时，在MAC和安卓版的微信公众号中超链接异常显示出 HTML 标签的问题，取消默认超链接与自定义超链接按钮的高亮区分
  - 🔨 调整 API `getHTML`，输出不包含 contenteditable 属性的 HTML，保存富文本数据时应使用此 API
  - 🎊 新增 API `getRawHTML`，输出原始的包含 contenteditable 属性的 HTML
- Select、Transfer
  - 搜索框的提示文案统一改为“请输入关键字”
- TreeSelect
  - 🎊 新增 API `onExpand`，展开或收起树节点时调用此函数，用于获取当前展开的树节点
  - 🐛 为 SelectTrigger 添加 forceRender，修复首次加载页面后点击弹框会异常关闭的问题，修复 forceRender 后 getPopupContainer 可能返回未挂载节点的问题

## 1.6.8-beta.2

- Spin
  - 🐛 修复更新生命周期后Spin在Table中的错误表现

## 1.6.8-beta.3

- Select
  - 🐛 设置基础背景色为`#fff`，修复showSearch框清空ICON在某些场景不居中的表现
- Tabs
  - 🐛 修复Tabs未返回新state导致报错的问题
